import fontforge;

#def componentsByFontname(font, fontname):
#    module_name = fontname + "_components"
#    module = __import__(module_name)

glyphComponents = {
    'dcaron': ('d', 'uni030C.alt',),
    'hcircumflex': ('h', 'uni0302.flat',),
    'lacute': ('l', 'acutecomb.flat',),
    'lcaron': ('l', 'uni030C.alt',),
    'napostrophe': ('n', 'uni030C.alt',),
    'tcaron': ('t', 'uni030C.alt',),
    'uni01D6': ('u', 'uni0308', 'uni0304.stack',),
    'uni01D8': ('u', 'uni0308', 'acutecomb.stack',),
    'uni01DA': ('u', 'uni0308', 'uni030C.stack',),
    'uni01DC': ('u', 'uni0308', 'gravecomb.stack',),
    'uni01DF': ('a', 'uni0308', 'uni0304.stack',),
    'uni01E1': ('a', 'uni0307.stack', 'uni0304.stack',),
    'uni01E9': ('k', 'uni030C.flat',),
    'aringacute': ('a', 'uni030A.stack', 'acutecomb.flat',),
    'uni021F': ('h', 'uni030C.flat',),
    'uni022B': ('o', 'uni0308', 'uni0304.stack',),
    'uni022D': ('o', 'tildecomb.stack', 'uni0304.stack',),
    'uni0231': ('o', 'uni0307.stack', 'uni0304.stack',),
    'uni1E15': ('e', 'uni0304.stack', 'gravecomb.stack',),
    'uni1E17': ('e', 'uni0304.stack', 'acutecomb.stack',),
    'uni1E2F': ('dotlessi', 'uni0308', 'acutecomb.stack',),
    'uni1E4D': ('o', 'tildecomb.stack', 'acutecomb.stack',),
    'uni1E4F': ('o', 'tildecomb.stack', 'uni0308',),
    'uni1E51': ('o', 'uni0304.stack', 'gravecomb.stack',),
    'uni1E53': ('o', 'uni0304.stack', 'acutecomb.stack',),
    'uni1E79': ('u', 'tildecomb.stack', 'acutecomb.stack',),
    'uni1E7B': ('u', 'uni0304.stack', 'uni0308',),
    'uni1EA5': ('a', 'uni0302.stack', 'acutecomb.stack',),
    'uni1EA7': ('a', 'uni0302.stack', 'gravecomb.stack',),
    'uni1EA9': ('a', 'uni0302.stack', 'uni0309.stack',),
    'uni1EAB': ('a', 'uni0302.stack', 'tildecomb.stack',),
    'uni1EAD': ('a', 'uni0323', 'uni0302',),
    'uni1EAF': ('a', 'uni0306.stack', 'acutecomb.stack',),
    'uni1EB1': ('a', 'uni0306.stack', 'gravecomb.stack',),    
    'uni1EB3': ('a', 'uni0306.stack', 'uni0309.stack',),
    'uni1EB5': ('a', 'uni0306.stack', 'tildecomb.stack',),
    'uni1EB7': ('a', 'uni0323', 'uni0306',), 
    'uni1EBF': ('e', 'uni0302.stack', 'acutecomb.stack',),
    'uni1EC1': ('e', 'uni0302.stack', 'gravecomb.stack',),
    'uni1EC3': ('e', 'uni0302.stack', 'uni0309.stack',),
    'uni1EC5': ('e', 'uni0302.stack', 'tildecomb.stack',),
    'uni1EC7': ('e', 'uni0323', 'uni0302',),
    'uni1ED1': ('o', 'uni0302.stack', 'acutecomb.stack',),
    'uni1ED3': ('o', 'uni0302.stack', 'gravecomb.stack',),
    'uni1ED5': ('o', 'uni0302.stack', 'uni0309.stack',),
    'uni1ED7': ('o', 'uni0302.stack', 'tildecomb.stack',),
    'uni1ED9': ('o', 'uni0323', 'uni0302',),
#-----------greek-----------------------------------
    'iotadieresistonos': ('iota', 'uni0308.grkstack', 'acutecomb.grk',),
    'alphatonos': ('alpha', 'acutecomb.grk',),
    'epsilontonos': ('epsilon', 'acutecomb.grk',),
    'etatonos': ('eta', 'acutecomb.grk',),
    'iotatonos': ('iota', 'acutecomb.grk',),
    'upsilondieresistonos': ('upsilon', 'uni0308.grkstack', 'acutecomb.grk',),
    'omicrontonos': ('omicron', 'acutecomb.grk',),
    'upsilontonos': ('upsilon', 'acutecomb.grk',),
    'omegatonos': ('omega', 'acutecomb.grk',),
    'uni1F00': ('alpha', 'uni0313',),
    'uni1F01': ('alpha', 'uni0314',),
    'uni1F02': ('alpha', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F03': ('alpha', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F04': ('alpha', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F05': ('alpha', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F06': ('alpha', 'uni0313.grkstack', 'uni0342',),
    'uni1F07': ('alpha', 'uni0314.grkstack', 'uni0342',),
    'uni1F10': ('epsilon', 'uni0313',),
    'uni1F11': ('epsilon', 'uni0314',),
    'uni1F12': ('epsilon', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F13': ('epsilon', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F14': ('epsilon', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F15': ('epsilon', 'uni0314.grk', 'acutecomb.grk',),
#    'uni1F16': ('epsilon', 'uni0313.grkstack', 'uni0342',),
#    'uni1F17': ('epsilon', 'uni0314.grkstack', 'uni0342',),
    'uni1F20': ('eta', 'uni0313',),
    'uni1F21': ('eta', 'uni0314',),
    'uni1F22': ('eta', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F23': ('eta', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F24': ('eta', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F25': ('eta', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F26': ('eta', 'uni0313.grkstack', 'uni0342',),
    'uni1F27': ('eta', 'uni0314.grkstack', 'uni0342',),
    'uni1F30': ('iota', 'uni0313',),
    'uni1F31': ('iota', 'uni0314',),
    'uni1F32': ('iota', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F33': ('iota', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F34': ('iota', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F35': ('iota', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F36': ('iota', 'uni0313.grkstack', 'uni0342',),
    'uni1F37': ('iota', 'uni0314.grkstack', 'uni0342',),
    'uni1F40': ('omicron', 'uni0313',),
    'uni1F41': ('omicron', 'uni0314',),
    'uni1F42': ('omicron', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F43': ('omicron', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F44': ('omicron', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F45': ('omicron', 'uni0314.grk', 'acutecomb.grk',),
#    'uni1F46': ('omicron', 'uni0313.grkstack', 'uni0342',),
#    'uni1F47': ('omicron', 'uni0314.grkstack', 'uni0342',),
    'uni1F50': ('upsilon', 'uni0313',),
    'uni1F51': ('upsilon', 'uni0314',),
    'uni1F52': ('upsilon', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F53': ('upsilon', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F54': ('upsilon', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F55': ('upsilon', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F56': ('upsilon', 'uni0313.grkstack', 'uni0342',),
    'uni1F57': ('upsilon', 'uni0314.grkstack', 'uni0342',),
    'uni1F60': ('omega', 'uni0313',),
    'uni1F61': ('omega', 'uni0314',),
    'uni1F62': ('omega', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F63': ('omega', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F64': ('omega', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F65': ('omega', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F66': ('omega', 'uni0313.grkstack', 'uni0342',),
    'uni1F67': ('omega', 'uni0314.grkstack', 'uni0342',),
    'uni1F70': ('alpha', 'gravecomb.grk',),
    'uni1F71': ('alpha', 'acutecomb.grk',),
    'uni1F72': ('epsilon', 'gravecomb.grk',),
    'uni1F73': ('epsilon', 'acutecomb.grk',),
    'uni1F74': ('eta', 'gravecomb.grk',),
    'uni1F75': ('eta', 'acutecomb.grk',),
    'uni1F76': ('iota', 'gravecomb.grk',),
    'uni1F77': ('iota', 'acutecomb.grk',),
    'uni1F78': ('omicron', 'gravecomb.grk',),
    'uni1F79': ('omicron', 'acutecomb.grk',),
    'uni1F7A': ('upsilon', 'gravecomb.grk',),
    'uni1F7B': ('upsilon', 'acutecomb.grk',),
    'uni1F7C': ('omega', 'gravecomb.grk',),
    'uni1F7D': ('omega', 'acutecomb.grk',),
    'uni1F80': ('alpha', 'uni0345', 'uni0313',),
    'uni1F81': ('alpha', 'uni0345', 'uni0314',),
    'uni1F82': ('alpha', 'uni0345', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F83': ('alpha', 'uni0345', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F84': ('alpha', 'uni0345', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F85': ('alpha', 'uni0345', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F86': ('alpha', 'uni0345', 'uni0313.grkstack', 'uni0342',),
    'uni1F87': ('alpha', 'uni0345', 'uni0314.grkstack', 'uni0342',),
    'uni1F90': ('eta', 'uni0345', 'uni0313',),
    'uni1F91': ('eta', 'uni0345', 'uni0314',),
    'uni1F92': ('eta', 'uni0345', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F93': ('eta', 'uni0345', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F94': ('eta', 'uni0345', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F95': ('eta', 'uni0345', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F96': ('eta', 'uni0345', 'uni0313.grkstack', 'uni0342',),
    'uni1F97': ('eta', 'uni0345', 'uni0314.grkstack', 'uni0342',),
    'uni1FA0': ('omega', 'uni0345', 'uni0313',),
    'uni1FA1': ('omega', 'uni0345', 'uni0314',),
    'uni1FA2': ('omega', 'uni0345', 'uni0313.grk', 'gravecomb.grk',),
    'uni1FA3': ('omega', 'uni0345', 'uni0314.grk', 'gravecomb.grk',),
    'uni1FA4': ('omega', 'uni0345', 'uni0313.grk', 'acutecomb.grk',),
    'uni1FA5': ('omega', 'uni0345', 'uni0314.grk', 'acutecomb.grk',),
    'uni1FA6': ('omega', 'uni0345', 'uni0313.grkstack', 'uni0342',),
    'uni1FA7': ('omega', 'uni0345', 'uni0314.grkstack', 'uni0342',),
    'uni1FB2': ('alpha', 'uni0345', 'gravecomb.grk',),
    'uni1FB4': ('alpha', 'uni0345', 'acutecomb.grk',),
    'uni1FB7': ('alpha', 'uni0345', 'uni0342',),
    'uni1FC2': ('eta', 'uni0345', 'gravecomb.grk',),
    'uni1FC4': ('eta', 'uni0345', 'acutecomb.grk',),
    'uni1FC7': ('eta', 'uni0345', 'uni0342',),
    'uni1FD2': ('iota', 'uni0308.grkstack', 'gravecomb.grk',),
    'uni1FD3': ('iota', 'uni0308.grkstack', 'acutecomb.grk',),
    'uni1FD7': ('iota', 'uni0308', 'uni0342',),
    'uni1FE2': ('upsilon', 'uni0308.grkstack', 'gravecomb.grk',),
    'uni1FE3': ('upsilon', 'uni0308.grkstack', 'acutecomb.grk',),
    'uni1FE4': ('rho', 'uni0313',),
    'uni1FE5': ('rho', 'uni0314',),
    'uni1FE7': ('upsilon', 'uni0308', 'uni0342',),
    'uni1FF2': ('omega', 'uni0345', 'gravecomb.grk',),
    'uni1FF4': ('omega', 'uni0345', 'acutecomb.grk',),
    'uni1FF7': ('omega', 'uni0345', 'uni0342',),
#---uppercase-----latin
    'Lcaron': ('L', 'uni030C.alt',),
    'uni01D5': ('U', 'uni0308.cap', 'uni0304.cap',),
    'uni01D7': ('U', 'uni0308.cap', 'acutecomb.flat',),
    'uni01D9': ('U', 'uni0308.cap', 'uni030C.cap',),
    'uni01DB': ('U', 'uni0308.cap', 'gravecomb.flat',),
    'uni01DE': ('A', 'uni0308.cap', 'uni0304.cap',),
    'uni01E0': ('A', 'uni0307.cap', 'uni0304.cap',),
    'Aringacute': ('A', 'uni030A.cap', 'acutecomb.flat',),
    'uni022A': ('O', 'uni0308.cap', 'uni0304.cap',),
    'uni022C': ('O', 'tildecomb.cap', 'uni0304.cap',),
    'uni0230': ('O', 'uni0307.cap', 'uni0304.cap',),
    'uni1E14': ('E', 'uni0304.cap', 'gravecomb.flat',),
    'uni1E16': ('E', 'uni0304.cap', 'acutecomb.flat',),
    'uni1E2E': ('I', 'uni0308.cap', 'acutecomb.cap',),
    'uni1E4C': ('O', 'tildecomb.cap', 'acutecomb.flat',),
    'uni1E4E': ('O', 'tildecomb.cap', 'uni0308.cap',),
    'uni1E50': ('O', 'uni0304.cap', 'gravecomb.flat',),
    'uni1E52': ('O', 'uni0304.cap', 'acutecomb.flat',),
    'uni1E78': ('U', 'tildecomb.cap', 'acutecomb.flat',),
    'uni1E7A': ('U', 'uni0304.cap', 'uni0308.cap',),
    'uni1EA4': ('A', 'uni0302.cap', 'acutecomb.capstack',),
    'uni1EA6': ('A', 'uni0302.cap', 'gravecomb.capstack',),
    'uni1EA8': ('A', 'uni0302.cap', 'uni0309.cap',),
    'uni1EAA': ('A', 'uni0302.cap', 'tildecomb.cap',),
    'uni1EAC': ('A', 'uni0323.cap', 'uni0302.cap',),
    'uni1EAE': ('A', 'uni0306.cap', 'acutecomb.capstack',),
    'uni1EB0': ('A', 'uni0306.cap', 'gravecomb.capstack',),    
    'uni1EB2': ('A', 'uni0306.cap', 'uni0309.cap',),
    'uni1EB4': ('A', 'uni0306.cap', 'tildecomb.cap',),
    'uni1EB6': ('A', 'uni0323.cap', 'uni0306.cap',), 
    'uni1EBE': ('E', 'uni0302.cap', 'acutecomb.capstack',),
    'uni1EC0': ('E', 'uni0302.cap', 'gravecomb.capstack',),
    'uni1EC2': ('E', 'uni0302.cap', 'uni0309.cap',),
    'uni1EC4': ('E', 'uni0302.cap', 'tildecomb.cap',),
    'uni1EC6': ('E', 'uni0323.cap', 'uni0302.cap',),
    'uni1ED0': ('O', 'uni0302.cap', 'acutecomb.capstack',),
    'uni1ED2': ('O', 'uni0302.cap', 'gravecomb.capstack',),
    'uni1ED4': ('O', 'uni0302.cap', 'uni0309.cap',),
    'uni1ED6': ('O', 'uni0302.cap', 'tildecomb.cap',),
    'uni1ED8': ('O', 'uni0323.cap', 'uni0302.cap',),
#---uppercase------greek-----------------------------------
    'Alphatonos': ('Alpha', 'acutecomb.grk',),
    'Epsilontonos': ('Epsilon', 'acutecomb.grk',),
    'Etatonos': ('Eta', 'acutecomb.grk',),
    'Iotatonos': ('Iota', 'acutecomb.grk',),
    'Omicrontonos': ('Omicron', 'acutecomb.grk',),
    'Upsilontonos': ('Upsilon', 'acutecomb.grk',),
    'Omegatonos': ('Omega', 'acutecomb.grk',),
    'uni1F08': ('Alpha', 'uni0313',),
    'uni1F09': ('Alpha', 'uni0314',),
    'uni1F0A': ('Alpha', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F0B': ('Alpha', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F0C': ('Alpha', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F0D': ('Alpha', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F0E': ('Alpha', 'uni0313.grkstack', 'uni0342',),
    'uni1F0F': ('Alpha', 'uni0314.grkstack', 'uni0342',),
    'uni1F18': ('Epsilon', 'uni0313',),
    'uni1F19': ('Epsilon', 'uni0314',),
    'uni1F1A': ('Epsilon', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F1B': ('Epsilon', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F1C': ('Epsilon', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F1D': ('Epsilon', 'uni0314.grk', 'acutecomb.grk',),
#    'uni1F1E': ('Epsilon', 'uni0313.grkstack', 'uni0342',),
#    'uni1F1F': ('Epsilon', 'uni0314.grkstack', 'uni0342',),
    'uni1F28': ('Eta', 'uni0313',),
    'uni1F29': ('Eta', 'uni0314',),
    'uni1F2A': ('Eta', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F2B': ('Eta', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F2C': ('Eta', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F2D': ('Eta', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F2E': ('Eta', 'uni0313.grkstack', 'uni0342',),
    'uni1F2F': ('Eta', 'uni0314.grkstack', 'uni0342',),
    'uni1F38': ('Iota', 'uni0313',),
    'uni1F39': ('Iota', 'uni0314',),
    'uni1F3A': ('Iota', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F3B': ('Iota', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F3C': ('Iota', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F3D': ('Iota', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F3E': ('Iota', 'uni0313.grkstack', 'uni0342',),
    'uni1F3F': ('Iota', 'uni0314.grkstack', 'uni0342',),
    'uni1F48': ('Omicron', 'uni0313',),
    'uni1F49': ('Omicron', 'uni0314',),
    'uni1F4A': ('Omicron', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F4B': ('Omicron', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F4C': ('Omicron', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F4D': ('Omicron', 'uni0314.grk', 'acutecomb.grk',),
#    'uni1F4E': ('Omicron', 'uni0313.grkstack', 'uni0342',),
#    'uni1F4F': ('Omicron', 'uni0314.grkstack', 'uni0342',),
#    'uni1F58': ('Upsilon', 'uni0313',),
    'uni1F59': ('Upsilon', 'uni0314',),
#    'uni1F5A': ('Upsilon', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F5B': ('Upsilon', 'uni0314.grk', 'gravecomb.grk',),
#    'uni1F5C': ('Upsilon', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F5D': ('Upsilon', 'uni0314.grk', 'acutecomb.grk',),
#    'uni1F5E': ('Upsilon', 'uni0313.grkstack', 'uni0342',),
    'uni1F5F': ('Upsilon', 'uni0314.grkstack', 'uni0342',),
    'uni1F68': ('Omega', 'uni0313',),
    'uni1F69': ('Omega', 'uni0314',),
    'uni1F6A': ('Omega', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F6B': ('Omega', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F6C': ('Omega', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F6D': ('Omega', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F6E': ('Omega', 'uni0313.grkstack', 'uni0342',),
    'uni1F6F': ('Omega', 'uni0314.grkstack', 'uni0342',),
    'uni1F88': ('Alpha', 'uni0345', 'uni0313',),
    'uni1F89': ('Alpha', 'uni0345', 'uni0314',),
    'uni1F8A': ('Alpha', 'uni0345', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F8B': ('Alpha', 'uni0345', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F8C': ('Alpha', 'uni0345', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F8D': ('Alpha', 'uni0345', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F8E': ('Alpha', 'uni0345', 'uni0313.grkstack', 'uni0342',),
    'uni1F8F': ('Alpha', 'uni0345', 'uni0314.grkstack', 'uni0342',),
    'uni1F98': ('Eta', 'uni0345', 'uni0313',),
    'uni1F99': ('Eta', 'uni0345', 'uni0314',),
    'uni1F9A': ('Eta', 'uni0345', 'uni0313.grk', 'gravecomb.grk',),
    'uni1F9B': ('Eta', 'uni0345', 'uni0314.grk', 'gravecomb.grk',),
    'uni1F9C': ('Eta', 'uni0345', 'uni0313.grk', 'acutecomb.grk',),
    'uni1F9D': ('Eta', 'uni0345', 'uni0314.grk', 'acutecomb.grk',),
    'uni1F9E': ('Eta', 'uni0345', 'uni0313.grkstack', 'uni0342',),
    'uni1F9F': ('Eta', 'uni0345', 'uni0314.grkstack', 'uni0342',),
    'uni1FA8': ('Omega', 'uni0345', 'uni0313',),
    'uni1FA9': ('Omega', 'uni0345', 'uni0314',),
    'uni1FAA': ('Omega', 'uni0345', 'uni0313.grk', 'gravecomb.grk',),
    'uni1FAB': ('Omega', 'uni0345', 'uni0314.grk', 'gravecomb.grk',),
    'uni1FAC': ('Omega', 'uni0345', 'uni0313.grk', 'acutecomb.grk',),
    'uni1FAD': ('Omega', 'uni0345', 'uni0314.grk', 'acutecomb.grk',),
    'uni1FAE': ('Omega', 'uni0345', 'uni0313.grkstack', 'uni0342',),
    'uni1FAF': ('Omega', 'uni0345', 'uni0314.grkstack', 'uni0342',),
    'uni1FBA': ('Alpha', 'gravecomb.grk',),
    'uni1FBB': ('Alpha', 'acutecomb.grk',),
    'uni1FC8': ('Epsilon', 'gravecomb.grk',),
    'uni1FC9': ('Epsilon', 'acutecomb.grk',),
    'uni1FCA': ('Eta', 'gravecomb.grk',),
    'uni1FCB': ('Eta', 'acutecomb.grk',),
    'uni1FDA': ('Iota', 'gravecomb.grk',),
    'uni1FDB': ('Iota', 'acutecomb.grk',),
    'uni1FEA': ('Upsilon', 'gravecomb.grk',),
    'uni1FEB': ('Upsilon', 'acutecomb.grk',),
    'uni1FEC': ('Rho', 'uni0314',),
    'uni1FF8': ('Omicron', 'gravecomb.grk',),
    'uni1FF9': ('Omicron', 'acutecomb.grk',),
    'uni1FFA': ('Omega', 'gravecomb.grk',),
    'uni1FFB': ('Omega', 'acutecomb.grk',),
    }

def composeAccented(glyph):
    """Compose accented glyphs.
    
    Get the components from the dictionary and build the new glyph
    from them."""

    components = glyphComponents[glyph.glyphname]
 
    base = components[0]
    marks = components[1:]

    glyph.clear()
    glyph.addReference(base)
    glyph.useRefsMetrics(base)
    for mark in marks:
        glyph.appendAccent(mark)

def buildAccentedGlyphs(junk,object):
#    """Get the names of the selected glyphs in a font.
#    
#    Call the composing function for every glyph that has an entry 
#    in the dictionary."""
#    componentsByFontname(font, font.fontname)
    if type(object).__name__ == "font":
        for glyph in object.selection.byGlyphs:
            if glyph.glyphname in glyphComponents.keys():
                composeAccented(glyph)
            else:
                continue
    else: 
        if object.glyphname in glyphComponents.keys():
            composeAccented(object)
        else:
            logWarning('This glyph has no entry in the dictionary')

fontforge.registerMenuItem(buildAccentedGlyphs,None,None,("Font","Glyph"),None,"Glyphbuilder");
